<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Installation on Vagrant - Home Assistant</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions to run Home Assistant on a Vagrant VM.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://home-assistant.io/getting-started/installation-vagrant/">

    <meta property="fb:app_id" content="338291289691179">
    <meta property="og:title" content="Installation on Vagrant">
    <meta property="og:site_name" content="Home Assistant">
    <meta property="og:url" content="https://home-assistant.io/getting-started/installation-vagrant/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Instructions to run Home Assistant on a Vagrant VM.">
    <meta property="og:image" content="https://home-assistant.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@home_assistant">
    
    <meta name="twitter:title" content="Installation on Vagrant">
    <meta name="twitter:description" content="Instructions to run Home Assistant on a Vagrant VM.">
    <meta name="twitter:image" content="https://home-assistant.io/images/default-social.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Home Assistant" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
  <a href="/" class="site-title">
    <img width='40' src='/demo/favicon-192x192.png'>
    <span>Home Assistant</span>
  </a>
</div>

<div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  
  <li><a href="/getting-started/">Getting started</a></li>
  <li><a href="/components/">Components</a></li>
  <li><a href="/ecosystem/">Ecosystem</a></li>
  <li><a href="/cookbook/">Examples</a></li>
  <li><a href="/developers/">Developers</a></li>
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/help/">Need help?</a></li>
</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          <article class="page">
  
  

  
  <header>
    <h1 class="title indent">
      Installation on Vagrant
    </h1>
  </header>
  <hr class="divider">
  

  <p>A <code class="highlighter-rouge">Vagrantfile</code> is available into <code class="highlighter-rouge">virtualization/vagrant</code> folder for quickly spinning up a Linux virtual machine running Home Assistant. This can be beneficial for those who want to experiment with Home Assistant and/or developers willing to easily test local changes and run test suite against them.</p>

<p class="note">
Vagrant is intended for testing/development only. It is NOT recommended for permanent installations.
</p>

<h2><a class="title-link" name="install-vagrant" href="#install-vagrant"></a> Install Vagrant</h2>

<p>You must have <a href="https://www.vagrantup.com/downloads.html">Vagrant</a> and <a href="https://www.virtualbox.org/wiki/Downloads">Virtualbox</a> installed on your workstation.</p>

<h2><a class="title-link" name="get-home-assistant-source-code" href="#get-home-assistant-source-code"></a> Get Home Assistant source code</h2>

<p>Download the Home Assistant source code by either downloading the .zip file from <a href="https://github.com/home-assistant/home-assistant/releases">GitHub releases page</a> or by using <a href="https://git-scm.com/">Git</a></p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>git clone https://github.com/home-assistant/home-assistant.git
<span class="gp">$ </span><span class="nb">cd </span>home-assistant/virtualization/vagrant
</code></pre>
</div>

<p class="note">
The following instructions will assume you changed your working directory to be <code class="highlighter-rouge">home-assistant/virtualization/vagrant</code>. This is mandatory because Vagrant will look for informations about the running VM inside that folder and won’t work otherwise
</p>

<p class="note">
When using Vagrant on Windows, change git’s <code class="highlighter-rouge">auto.crlf</code> to input before cloning the Home Assistant repository. With input setting git won’t automatically change line endings from Unix LF to Windows CRLF. Shell scripts executed during provision won’t work with Windows line endings.
</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>git config --global core.autocrlf input
</code></pre>
</div>

<h2><a class="title-link" name="create-the-vagrant-vm-and-start-home-assistant" href="#create-the-vagrant-vm-and-start-home-assistant"></a> Create the Vagrant VM and start Home Assistant</h2>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>vagrant up
</code></pre>
</div>

<p>This will download and start a virtual machine using Virtualbox, which will internally setup the development environment necessary to start Home Assistant process and run test suite as well. After the VM has started successfully, the Home Assistant frontend will be accessible locally from your browser at <a href="http://localhost:8123">http://localhost:8123</a></p>

<h2><a class="title-link" name="stopping-vagrant" href="#stopping-vagrant"></a> Stopping Vagrant</h2>

<p>To shutdown the Vagrant host:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>vagrant halt
</code></pre>
</div>

<p>To start it again, just run <code class="highlighter-rouge">vagrant up</code></p>

<h2><a class="title-link" name="restarting-home-assistant-process-to-test-changes" href="#restarting-home-assistant-process-to-test-changes"></a> Restarting Home Assistant process to test changes</h2>

<p>The root <code class="highlighter-rouge">home-assistant</code> directory on your workstation will be mirrored with <code class="highlighter-rouge">/home-assistant</code> inside the VM. In <code class="highlighter-rouge">virtualization/vagrant</code> there’s also a <code class="highlighter-rouge">config</code> folder that you can use to drop configuration files (Check the <a href="https://home-assistant.io/getting-started/configuration/">Getting started section</a> for more information about how to configure Home Assistant).</p>

<p>Any changes made to the local directory on your workstation will be available from the Vagrant host, so to apply your changes to the Home Assistant process, just restart it:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>touch restart ; vagrant provision
</code></pre>
</div>

<h2><a class="title-link" name="run-test-suite-tox" href="#run-test-suite-tox"></a> Run test suite (Tox)</h2>

<p>To run tests against your changes:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>touch run_tests ; vagrant provision
</code></pre>
</div>

<h2><a class="title-link" name="cleanup" href="#cleanup"></a> Cleanup</h2>

<p>To completely remove the VM:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rm setup_done ; vagrant destroy -f
</code></pre>
</div>

<p>You can now recreate a completely new Vagrant host with <code class="highlighter-rouge">vagrant up</code></p>

<h3><a class="title-link" name="troubleshooting" href="#troubleshooting"></a> Troubleshooting</h3>

<p>If you run into any issues, please see <a href="/getting-started/troubleshooting/">the troubleshooting page</a>. It contains solutions to many of the more commonly encountered issues.</p>

<p>In addition to this site, check out these sources for additional help:</p>

<ul>
  <li><a href="https://community.home-assistant.io">Forum</a> for Home Assistant discussions and questions.</li>
  <li><a href="https://gitter.im/home-assistant/home-assistant">Gitter Chat Room</a> for real-time chat about Home Assistant.</li>
  <li><a href="https://github.com/home-assistant/home-assistant/issues">GitHub Page</a> for issue reporting.</li>
</ul>

<h3><a href="/getting-started/configuration/">Next step: Configuring Home Assistant »</a></h3>


</article>


        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">
  <div class='edit-github'><a href='https://github.com/home-assistant/home-assistant.github.io/tree/current/source/getting-started/installation-vagrant.markdown'>Edit this page on GitHub</a></div>
  <div class='section'>
    <h1 class="title delta">Getting Started Guide</h1>
    <ul class='divided sidebar-menu'>
      <li>
        <a  href='/getting-started/'>Installation </a>
        <ul>
          <li><a  href='/getting-started/installation-raspberry-pi/'>Raspberry Pi </a></li>
          <li><a  href='/getting-started/installation-raspberry-pi-all-in-one/'>Raspberry Pi All-In-One Installer </a></li>
          <li><a  href='/getting-started/installation-raspberry-pi-image/'>Raspberry Pi Image </a></li>
          <li><a  href='/getting-started/installation-docker/'>Docker </a></li>
          <li><a class='active' href='/getting-started/installation-vagrant/'>Vagrant </a></li>
          <li><a  href='/getting-started/installation-synology/'>Synology NAS </a></li>
          <li><a  href='/getting-started/installation-virtualenv/'>Virtualenv Linux </a></li>
          <li><a  href='/getting-started/updating/'>Updating </a></li>
          <li><a  href='/getting-started/troubleshooting/'>Troubleshooting </a></li>
        </ul>
      </li>
      <li>
        <a  href='/getting-started/configuration/'>Configuration  </a>
        <ul>
          <li><a  href='/getting-started/yaml/'>YAML </a></li>
          <li><a  href='/getting-started/basic/'>Basic information </a></li>
          <li><a  href='/getting-started/devices/'>Setting up devices </a></li>
          <li><a  href='/getting-started/customizing-devices/'>Customizing devices and services </a></li>
          <li><a  href='/getting-started/presence-detection/'>Presence Detection </a></li>
          <li><a  href='/getting-started/troubleshooting-configuration/'>Troubleshooting </a></li>
          <li><a  href='/getting-started/securing/'>Security Check Points </a></li>
        </ul>
      </li>
      <li>
        <a  href='/getting-started/automation/'>Automation </a>
        <ul>
          <li><a  href='/getting-started/automation-create-first/'>Tutorial </a></li>
          <li><a  href='/getting-started/automation-trigger/'>Triggers </a></li>
          <li><a  href='/getting-started/automation-condition/'>Conditions </a></li>
          <li><a  href='/getting-started/automation-action/'>Actions </a></li>
          <li><a  href='/getting-started/automation-templating/'>Templates </a></li>
        </ul>
      </li>
      <li>
        <a  href='/getting-started/scripts/'>Scripts </a>
        <ul>
          <li><a  href='/getting-started/scripts-service-calls/'>Service Calls </a></li>
          <li><a  href='/getting-started/scripts-conditions/'>Conditions </a></li>
        </ul>
      </li>
      <li>
        <a  href='/getting-started/z-wave/'>Z-Wave </a>
        <ul>
          <li><a  href='/getting-started/z-wave-controllers/'>Controllers </a></li>
          <li><a  href='/getting-started/z-wave-settings/'>Modifying Settings </a></li>
          <li><a  href='/getting-started/z-wave-device-specific/'>Device Specific </a></li>
        </ul>
      </li>
      <li>
        <a  href='/getting-started/autostart/'>Autostart </a>
        <ul>
          <li><a  href='/getting-started/autostart-systemd/'>Linux - systemd </a></li>
          <li><a  href='/getting-started/autostart-upstart/'>Linux - Upstart </a></li>
          <li><a  href='/getting-started/autostart-init.d/'>Linux - init.d </a></li>
          <li><a  href='/getting-started/autostart-macos/'>macOS </a></li>
          <li><a  href='/getting-started/autostart-synology/'>Synology NAS </a></li>
        </ul>
      </li>
      <li><a  href='/topics/'>Advanced Topics </a></li>
      <li><a  href='/details/'>Details </a></li>
      <li><a  href='/getting-started/android/'>Add to Android Homescreen </a></li>
      <li><a  href='/getting-started/browsers/'>Browser Compatibility List </a></li>
    </ul>
  </div>
</section>
  
</div>
        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright">
  <a rel="me" href='https://twitter.com/home_assistant'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://facebook.com/homeassistantio'><i class="icon-facebook"></i></a>
  <a rel="me" href='https://plus.google.com/110560654828510104551'><i class="icon-google-plus"></i></a>
  <a rel="me" href='https://github.com/home-assistant/home-assistant'><i class="icon-github"></i></a>

  <div class="credit">
    Contact us at <a href='mailto:hello@home-assistant.io'>hello@home-assistant.io</a>.<br>
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and the <a href='https://github.com/coogie/oscailte'>Oscalite theme</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>
</div>
    </div>
  </div>
</div>
    </footer>

    <script>
  var _gaq=[['_setAccount','UA-57927901-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
  </body>
</html>